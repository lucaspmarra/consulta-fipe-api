<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Navita - Tabela Fipe</title>
    <link
      rel="shortcut icon"
      href="https://navita.com.br/wp-content/uploads/2018/06/navita-favicon.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/main_style.css" />
  </head>
  <body>
    <!-- table -->
    <div id="app">
      <h1>Veículos</h1>
      <div class="container" v-if="errored">
        <p>
          Pedimos desculpas, não estamos conseguindo recuperar as informações no
          momento. Por favor, tente novamente mais tarde.
        </p>
      </div>
      <!-- models card -->
      <div v-else>
        <div v-if="loading" uk-spinner></div>
        <!-- return api data on html -->
        <div class="container mb-3 mt-3" v-else>
          <!-- start card -->
          <div class="card d-flex">
            <!-- start card body -->
            <div class="card-body">
              <!-- start table -->
              <table class="table">
                <!-- table head -->
                <thead class="thead-color">
                  <tr>
                    <th colspan="2" scope="col">Marcas</th>
                  </tr>
                </thead>
                <!-- table head -->
                <!-- table body -->
                <tbody v-for="(model, index) in models" :key="index">
                  <tr>
                    <td>{{model.nome}}</td>
                    <td>
                      <a data-toggle="modal" data-target="#brandModal" href=""
                        >Ver modelos</a
                      >
                    </td>
                  </tr>
                </tbody>
                <!-- table body -->
              </table>
              <!-- end table -->
            </div>
            <!-- end card body -->
          </div>
          <!-- start card -->
        </div>
      </div>

      <!-- BRANDS MODAL -->
      <div
        class="modal fade"
        id="brandModal"
        tabindex="-1"
        aria-labelledby="brandModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="brandModalLabel">Modelos</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div
              class="modal-body"
              v-for="(brand, index) in brands"
              :key="index"
            >
              {{brand.nome}}
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                Fechar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /BRANDS MODAL -->

    <!-- JS calls -->
    <!-- JQUery-->
    <script src="./js/jquery.js"></script>
    <!-- Production version -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <!-- Boostrap JS-->
    <script src="./js/bootstrap.min.js"></script>
    <!-- Vue JS-->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <!-- AXIOS Js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <!-- main js file -->
    <script src="./js/vue_instance.js"></script>
    <!-- JS calls -->
  </body>
</html>
