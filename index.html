<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Consulta - Tabela Fipe</title>
    <link
      rel="shortcut icon"
      href="./assets/favicon-32x32.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/main_style.css" />
  </head>
  <body>

    <!-- error message if something is wrong-->
    <div class="container-fluid" id="app">
      <div class="container" v-if="errored">
        <p>
          Pedimos desculpas, não estamos conseguindo recuperar as informações no
          momento. Por favor, tente novamente mais tarde.
        </p>
      </div>
      <!-- Models card -->
      <div v-else>
        <div v-if="loading" uk-spinner></div>

        <div class="container mb-3 mt-3" v-else>
          <h2 class="mb-3">Veículos</h2>

          <!-- start card -->

          <div class="card d-flex">
            <div class="card-header thead-color">
              <h4>Marcas</h4>
              <small id="passwordHelpBlock" class="form-text text-muted">
                Selecione "Ver modelos" para proceder ao uso.
              </small>
            </div>

            <!-- start card body -->
            <div class="card-body">
              <!-- start table -->
              <table class="table table-hover">
                <!-- table head -->
                <thead>
                  <tr>
                    <th colspan="2" scope="col">Marcas</th>
                  </tr>
                </thead>
                <!-- table head -->
                <!-- table body -->
                <!-- return api data on html -->
                <tbody v-for="(brand, index) in brands" :key="index">
                  <tr>
                    <td>{{brand.nome}}</td>
                    <td>
                      <a
                        class="navita-button"
                        @click="brandSelected(brand)"
                        data-toggle="modal"
                        data-target="#modelsModal"
                        >Ver modelos</a
                      >
                    </td>
                  </tr>
                </tbody>
                <!-- table body -->
              </table>
              <!-- end table -->
            </div>
            <!-- end card body -->
          </div>
          <!-- start card -->
          <caption>
            Lista de Marcas
          </caption>
        </div>
      </div>
      <!-- /Brands card-->
      <!-- Models modal -->
      <div
        class="modal fade"
        id="modelsModal"
        tabindex="-1"
        aria-labelledby="brandModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title thead-color-model" id="modelsModalLabel">
                Modelos
              </h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div
              class="modal-body"
              v-for="(model, index) in models"
              :key="index"
            >
              {{model.nome}}
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                Fechar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /Models modal -->

    <!-- JS calls -->
    <!-- JQUery-->
    <script src="./js/jquery.js"></script>
    <!-- Production version -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <!-- Boostrap JS-->
    <script src="./js/bootstrap.min.js"></script>
    <!-- Vue JS-->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <!-- AXIOS Js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <!-- main js file -->
    <script src="./js/vue_instance.js"></script>
    <!-- JS calls -->
  </body>
</html>
